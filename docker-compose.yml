version: '3.4'

services:
  dbmysql:
    image: mysql
    restart: always
    volumes: 
          # prende lo script seed.sql per creare e popolare le tabelle
          - ./seed.sql:/docker-entrypoint-initdb.d/seed.sql
    ports:
      - 3306:3306
  
  api:
    build: ./API
    ports:
      - 3000:3000
    depends_on:
          - dbmysql
  
  websocketServer:
    build: ./Server
    ports:
      - 3001:3001
    depends_on:
          - dbmysql

    websocketClient:
      build: ./Client
      depends_on:
            - dbmysql
            - websocketServer
          